<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Rosario | Viaje Familiar a Argentina</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="estilos.css">
  <script src="i18n.js"></script>
  <style>
    /* Estilos generales del cuerpo y barra superior */
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      color: #333;
      margin: 20px;
      transition: direction 0.3s;
    }
    #language-selector {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background-color: rgba(255,255,255,0.8);
      padding: 5px;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .language-btn {
      font-weight: bold;
      padding: 8px 12px;
      margin: 0 5px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      background-color: #f0f0f0;
    }
    .back-link {
      margin-left: 20px;
      text-decoration: none;
      font-weight: bold;
      color: #007bff;
      font-size: 16px;
    }
    .header {
      text-align: center;
      margin-bottom: 20px;
    }
    .header img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .content-section {
      background: #fff;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    h1, h2 {
      color: #222;
      border-bottom: 2px solid #eee;
      padding-bottom: 10px;
      margin-top: 0;
    }
    ul {
      list-style-type: disc;
      margin-left: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
    }
    .ai-section {
      background-color: #e8f0fe; /* Un color suave para las secciones de IA */
      border-left: 5px solid #4285f4;
      padding: 15px;
      margin-top: 20px;
      border-radius: 5px;
    }
    .ai-response {
      white-space: pre-wrap; /* Para mantener saltos de línea del texto generado por IA */
      background-color: #f0f6ff;
      border: 1px dashed #a0c3ff;
      padding: 10px;
      margin-top: 10px;
      border-radius: 4px;
    }
    .ai-button {
      background-color: #4285f4;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
    }
    .ai-button:hover {
      background-color: #3367d6;
    }
  </style>
</head>
<body>
  <div id="language-selector">
    <button class="language-btn" data-lang="es">Español</button>
    <button class="language-btn" data-lang="he">עברית</button>
  </div>

  <main>
    <a href="../index.html" class="back-link" data-i18n="back-to-itinerary">⬅️ Volver al itinerario</a>

    <div class="header">
      <h1 data-i18n="city-name">Rosario</h1>
      <img src="../docs/imagenes/rosario/rosario.jpg" alt="Monumento Nacional a la Bandera, Rosario" class="ciudad-foto" id="city-photo">
      <p id="foto-caption" data-i18n="foto-caption-rosario">Monumento Nacional a la Bandera, Rosario</p>
      <p id="welcome-text" data-i18n="welcome-text-rosario">
        Rosario, la ciudad de la bandera, ofrece una rica historia, parques extensos y una vibrante vida cultural a orillas del río Paraná. Es ideal para disfrutar en familia con actividades al aire libre y visitas a sitios emblemáticos.
      </p>
    </div>

    <div class="content-section">
      <h2 data-i18n="dates-duration-title">Fechas y duración</h2>
      <ul>
        <li data-i18n="rosario-stay">**Estadía**: 02/10 al 05/10 (4 días)</li>
        <li data-i18n="rosario-how-to-get-there">**Cómo llegar**: Vuelo desde Buenos Aires / Bus de larga distancia</li>
      </ul>
    </div>

    <div class="content-section">
      <h2 data-i18n="must-see-places-title">Lugares imperdibles</h2>
      <ul>
        <li data-i18n="rosario-place-0">**Monumento Nacional a la Bandera**: Símbolo icónico de Argentina.</li>
        <li data-i18n="rosario-place-1">**Parque de la Independencia**: Con su rosedal, lagos y museos.</li>
        <li data-i18n="rosario-place-2">**Costanera del Río Paraná**: Ideal para paseos, ciclismo y disfrutar de la vista.</li>
        <li data-i18n="rosario-place-3">**Isla de los Inventos**: Espacio interactivo y lúdico para niños.</li>
        <li data-i18n="rosario-place-4">**Museo de Ciencias Naturales "Dr. Ángel Gallardo"**: Para los amantes de la naturaleza y la ciencia.</li>
        <li data-i18n="rosario-place-5">**Boulevard Oroño**: Con sus mansiones históricas y arboledas.</li>
      </ul>
    </div>

    <div class="content-section">
      <h2 data-i18n="recommended-activities-title">Actividades recomendadas</h2>
      <ul>
        <li data-i18n="rosario-activity-0">Visitar el Monumento a la Bandera y subir a su mirador.</li>
        <li data-i18n="rosario-activity-1">Paseos en barco por el Río Paraná y sus islas.</li>
        <li data-i18n="rosario-activity-2">Alquilar bicicletas para recorrer la Costanera y los parques.</li>
        <li data-i18n="rosario-activity-3">Actividades recreativas en la Isla de los Inventos o la Granja de la Infancia.</li>
        <li data-i18n="rosario-activity-4">Disfrutar de un picnic en los grandes parques de la ciudad.</li>
        <li data-i18n="rosario-activity-5">Visitas a museos adaptados para niños.</li>
      </ul>
    </div>

    <div class="content-section">
      <h2 data-i18n="gastronomy-title">Gastronomía destacada</h2>
      <p data-i18n="gastronomy-intro-rosario">
        Rosario es conocida por su gastronomía variada, con opciones que van desde las tradicionales parrillas y la carne a la estaca, hasta platos de pescado de río fresco y una creciente oferta de cocina moderna y saludable.
      </p>

      <h3 data-i18n="restaurants-title">Restaurantes recomendados</h3>
      <table>
        <thead>
          <tr>
            <th data-i18n="table-restaurant">Restaurante</th>
            <th data-i18n="table-type">Tipo</th>
            <th data-i18n="table-gluten-free">Sin Gluten</th>
            <th data-i18n="table-sugar-free">Sin Azúcar</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td data-i18n="rosario-rest-0-name">Don Ferro</td>
            <td data-i18n="rosario-rest-0-type">Parrilla con vista al río</td>
            <td>✔️</td>
            <td>❌</td>
          </tr>
          <tr>
            <td data-i18n="rosario-rest-1-name">Rock & Feller's</td>
            <td data-i18n="rosario-rest-1-type">Americano / Familiar</td>
            <td>✔️</td>
            <td>❌</td>
          </tr>
          <tr>
            <td data-i18n="rosario-rest-2-name">Chinchibira</td>
            <td data-i18n="rosario-rest-2-type">Cocina de autor / Fusión</td>
            <td>✔️</td>
            <td>✔️</td>
          </tr>
          <tr>
            <td data-i18n="rosario-rest-3-name">El Viejo Balcón</td>
            <td data-i18n="rosario-rest-3-type">Pescados de río</td>
            <td>✔️</td>
            <td>❌</td>
          </tr>
        </tbody>
      </table>

      <h3 data-i18n="coffees-title">Confiterías y cafés</h3>
      <table>
        <thead>
          <tr>
            <th data-i18n="table-confectionery">Confitería</th>
            <th data-i18n="table-type">Tipo</th>
            <th data-i18n="table-gluten-free">Sin Gluten</th>
            <th data-i18n="table-sugar-free">Sin Azúcar</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td data-i18n="rosario-cafe-0-name">El Cairo</td>
            <td data-i18n="rosario-cafe-0-type">Histórico / Literario</td>
            <td>❌</td>
            <td>❌</td>
          </tr>
          <tr>
            <td data-i18n="rosario-cafe-1-name">Gofre</td>
            <td data-i18n="rosario-cafe-1-type">Waffles y pastelería</td>
            <td>✔️</td>
            <td>✔️</td>
          </tr>
          <tr>
            <td data-i18n="rosario-cafe-2-name">Sunderland</td>
            <td data-i18n="rosario-cafe-2-type">Tradicional / Clásico</td>
            <td>❌</td>
            <td>❌</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="ai-section">
      <h2 data-i18n="ai-menu-title">Sugerencias de Menú para Diabéticos</h2>
      <button class="ai-button" data-i18n="generate-menu-suggestions" onclick="callGeminiAPI('ai-menu', 'rosario')">Generar sugerencias de menú para Rosario</button>
      <div class="ai-response" id="ai-menu-response"></div>
    </div>

    <div class="content-section">
      <h2 data-i18n="accommodation-title">Alojamiento (ejemplos)</h2>
      <ul>
        <li data-i18n="rosario-acc-0">Ros Tower Hotel</li>
        <li data-i18n="rosario-acc-1">Esplendor by Wyndham Savoy Rosario</li>
        <li data-i18n="rosario-acc-2">Apartamentos en el centro o cerca de la Costanera</li>
        <li data-i18n="rosario-acc-3">Airbnb en barrios residenciales como Fisherton o Pichincha</li>
      </ul>
    </div>

    <div class="ai-section">
      <h2 data-i18n="ai-accommodation-title">Sugerencias de Alojamiento para Familias</h2>
      <button class="ai-button" data-i18n="generate-accommodation-suggestions" onclick="callGeminiAPI('ai-accommodation', 'rosario')">Generar sugerencias de alojamiento para Rosario</button>
      <div class="ai-response" id="ai-accommodation-response"></div>
    </div>

    <div class="content-section">
      <h2 data-i18n="coordinates-title">Coordenadas aproximadas</h2>
      <ul>
        <li data-i18n="rosario-coords">32° 57' S 60° 38' O</li>
      </ul>
    </div>

    <div class="content-section">
      <h2 data-i18n="events-agenda-title">Agenda de eventos</h2>
      <ul>
        <li data-i18n="rosario-event-0">**(Consultar agenda local)**: Rosario tiene una activa vida cultural con festivales, ferias y espectáculos.</li>
        <li data-i18n="rosario-event-1">**(Consultar agenda local)**: Eventos deportivos o musicales en el Parque de la Independencia.</li>
        <li><a href="../docs/agenda/ariflier1970@gmail.com.ical.zip" data-i18n="download-agenda">Descargar agenda completa en formato iCal (.zip)</a></li>
      </ul>
    </div>

    <div class="content-section">
      <h2 data-i18n="family-tips-title">Consejos para familias</h2>
      <ul>
        <li data-i18n="rosario-tip-0">Aprovechen los amplios espacios verdes y la costanera para actividades al aire libre.</li>
        <li data-i18n="rosario-tip-1">El transporte público es eficiente (tarjeta MOVI).</li>
        <li data-i18n="rosario-tip-2">La ciudad es segura en las zonas turísticas y céntricas.</li>
        <li data-i18n="rosario-tip-3">Consideren un paseo en barco para ver la ciudad desde el río.</li>
        <li data-i18n="rosario-tip-4">En la Costanera hay muchas opciones de restaurantes con juegos para niños.</li>
      </ul>
    </div>

    <div class="content-section">
      <h2 data-i18n="budget-title">Presupuesto orientativo</h2>
      <table>
        <thead>
          <tr>
            <th data-i18n="budget-concept">Concepto</th>
            <th data-i18n="budget-price">Precio estimado (USD)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td data-i18n="budget-accommodation">Alojamiento (noche, familia)</td>
            <td>50–120</td>
          </tr>
          <tr>
            <td data-i18n="budget-food">Comida (por día, familia)</td>
            <td>30–70</td>
          </tr>
          <tr>
            <td data-i18n="budget-transport">Transporte público (por día)</td>
            <td>3–5</td>
          </tr>
          <tr>
            <td data-i18n="budget-activities">Actividades y tours (por día)</td>
            <td>20–50</td>
          </tr>
          <tr>
            <td data-i18n="budget-attractions">Entradas museos/atracciones</td>
            <td>0–15</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="ai-section">
      <h2 data-i18n="ai-budget-title">Sugerencias de Presupuesto</h2>
      <button class="ai-button" data-i18n="generate-budget-suggestions" onclick="callGeminiAPI('ai-budget', 'rosario')">Generar sugerencias de presupuesto para Rosario</button>
      <div class="ai-response" id="ai-budget-response"></div>
    </div>

    <div class="content-section">
      <h2 data-i18n="cultural-tips-title">Tips culturales</h2>
      <ul>
        <li data-i18n="rosario-cultural-0">El "Che" Guevara nació cerca de Rosario.</li>
        <li data-i18n="rosario-cultural-1">Rosario es cuna de grandes futbolistas (Messi, Di María) y artistas.</li>
        <li data-i18n="rosario-cultural-2">La siesta es común en las horas centrales del día, afectando horarios comerciales.</li>
        <li data-i18n="rosario-cultural-3">Los rosarinos son conocidos por su hospitalidad.</li>
      </ul>
    </div>

    <div class="content-section">
      <h2 data-i18n="map-title">Mapa de Rosario</h2>
      <p>
        <a href="https://www.openstreetmap.org/#map=12/-32.944/-60.655" target="_blank" data-i18n="see-bigger-map">Ver mapa más grande</a>
      </p>
    </div>
  </main>

  <script>
    // La clave API se proporciona automáticamente en el entorno de Canvas.
    // Si ejecutas esto fuera de Canvas, necesitarás tu propia clave API.
    const apiKey = ""; 

    async function callGeminiAPI(type, city) {
      const responseDiv = document.getElementById(`${type}-response`);
      responseDiv.textContent = "Generando sugerencias...";

      let prompt = "";
      if (type === "ai-menu") {
        prompt = `Genera 3 sugerencias de menú para un viaje familiar a ${city}, considerando opciones saludables, bajas en carbohidratos y aptas para diabéticos. Incluye un plato principal, una guarnición y una bebida, o tres opciones de comidas completas. Formatea la respuesta como una lista numerada.`;
      } else if (type === "ai-accommodation") {
        prompt = `Genera 3 sugerencias de alojamiento en ${city} para una familia con 2 adultos y 2 niños, priorizando comodidad, seguridad, buena ubicación y actividades para niños. Formatea la respuesta como una lista numerada con una breve descripción de cada opción.`;
      } else if (type === "ai-budget") {
        prompt = `Proporciona 3 consejos para optimizar el presupuesto en ${city} para una familia. Enfócate en ahorro en comida, transporte y actividades. Formatea la respuesta como una lista numerada.`;
      }

      try {
        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            contents: [{ parts: [{ text: prompt }] }]
          })
        });

        if (!response.ok) {
          const errorData = await response.json();
          console.error('Error al llamar a la API de Gemini:', response.status, errorData);
          responseDiv.textContent = `Error: ${errorData.error.message || response.statusText}. Asegúrate de que la API Key sea válida y de que el entorno sea Canvas.`;
          return;
        }

        const data = await response.json();
        if (data.candidates && data.candidates.length > 0 && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts.length > 0) {
          responseDiv.textContent = data.candidates[0].content.parts[0].text;
        } else {
          responseDiv.textContent = "No se pudo generar una respuesta. Estructura de respuesta inesperada.";
          console.error("Estructura de respuesta inesperada del LLM:", data);
        }
      } catch (error) {
        console.error("Error en la conexión con la API de Gemini:", error);
        responseDiv.textContent = `Error de conexión: ${error.message}. Verifica tu conexión a internet o el estado del servicio.`;
      }
    }

    // Traducciones específicas de la página
    const translations = {
      es: {
        "back-to-itinerary": "⬅️ Volver al itinerario",
        "city-name": "Rosario",
        "foto-caption-rosario": "Monumento Nacional a la Bandera, Rosario",
        "welcome-text-rosario": "Rosario, la ciudad de la bandera, ofrece una rica historia, parques extensos y una vibrante vida cultural a orillas del río Paraná. Es ideal para disfrutar en familia con actividades al aire libre y visitas a sitios emblemáticos.",
        "dates-duration-title": "Fechas y duración",
        "rosario-stay": "**Estadía**: 02/10 al 05/10 (4 días)",
        "rosario-how-to-get-there": "**Cómo llegar**: Vuelo desde Buenos Aires / Bus de larga distancia",
        "must-see-places-title": "Lugares imperdibles",
        "rosario-place-0": "**Monumento Nacional a la Bandera**: Símbolo icónico de Argentina.",
        "rosario-place-1": "**Parque de la Independencia**: Con su rosedal, lagos y museos.",
        "rosario-place-2": "**Costanera del Río Paraná**: Ideal para paseos, ciclismo y disfrutar de la vista.",
        "rosario-place-3": "**Isla de los Inventos**: Espacio interactivo y lúdico para niños.",
        "rosario-place-4": "**Museo de Ciencias Naturales \"Dr. Ángel Gallardo\"**: Para los amantes de la naturaleza y la ciencia.",
        "rosario-place-5": "**Boulevard Oroño**: Con sus mansiones históricas y arboledas.",
        "recommended-activities-title": "Actividades recomendadas",
        "rosario-activity-0": "Visitar el Monumento a la Bandera y subir a su mirador.",
        "rosario-activity-1": "Paseos en barco por el Río Paraná y sus islas.",
        "rosario-activity-2": "Alquilar bicicletas para recorrer la Costanera y los parques.",
        "rosario-activity-3": "Actividades recreativas en la Isla de los Inventos o la Granja de la Infancia.",
        "rosario-activity-4": "Disfrutar de un picnic en los grandes parques de la ciudad.",
        "rosario-activity-5": "Visitas a museos adaptados para niños.",
        "gastronomy-title": "Gastronomía destacada",
        "gastronomy-intro-rosario": "Rosario es conocida por su gastronomía variada, con opciones que van desde las tradicionales parrillas y la carne a la estaca, hasta platos de pescado de río fresco y una creciente oferta de cocina moderna y saludable.",
        "restaurants-title": "Restaurantes recomendados",
        "table-restaurant": "Restaurante",
        "table-type": "Tipo",
        "table-gluten-free": "Sin Gluten",
        "table-sugar-free": "Sin Azúcar",
        "rosario-rest-0-name": "Don Ferro",
        "rosario-rest-0-type": "Parrilla con vista al río",
        "rosario-rest-1-name": "Rock & Feller's",
        "rosario-rest-1-type": "Americano / Familiar",
        "rosario-rest-2-name": "Chinchibira",
        "rosario-rest-2-type": "Cocina de autor / Fusión",
        "rosario-rest-3-name": "El Viejo Balcón",
        "rosario-rest-3-type": "Pescados de río",
        "coffees-title": "Confiterías y cafés",
        "table-confectionery": "Confitería",
        "rosario-cafe-0-name": "El Cairo",
        "rosario-cafe-0-type": "Histórico / Literario",
        "rosario-cafe-1-name": "Gofre",
        "rosario-cafe-1-type": "Waffles y pastelería",
        "rosario-cafe-2-name": "Sunderland",
        "rosario-cafe-2-type": "Tradicional / Clásico",
        "ai-menu-title": "Sugerencias de Menú para Diabéticos",
        "generate-menu-suggestions": "Generar sugerencias de menú para Rosario",
        "accommodation-title": "Alojamiento (ejemplos)",
        "rosario-acc-0": "Ros Tower Hotel",
        "rosario-acc-1": "Esplendor by Wyndham Savoy Rosario",
        "rosario-acc-2": "Apartamentos en el centro o cerca de la Costanera",
        "rosario-acc-3": "Airbnb en barrios residenciales como Fisherton o Pichincha",
        "ai-accommodation-title": "Sugerencias de Alojamiento para Familias",
        "generate-accommodation-suggestions": "Generar sugerencias de alojamiento para Rosario",
        "coordinates-title": "Coordenadas aproximadas",
        "rosario-coords": "32° 57' S 60° 38' O",
        "events-agenda-title": "Agenda de eventos",
        "rosario-event-0": "**(Consultar agenda local)**: Rosario tiene una activa vida cultural con festivales, ferias y espectáculos.",
        "rosario-event-1": "**(Consultar agenda local)**: Eventos deportivos o musicales en el Parque de la Independencia.",
        "download-agenda": "Descargar agenda completa en formato iCal (.zip)",
        "family-tips-title": "Consejos para familias",
        "rosario-tip-0": "Aprovechen los amplios espacios verdes y la costanera para actividades al aire libre.",
        "rosario-tip-1": "El transporte público es eficiente (tarjeta MOVI).",
        "rosario-tip-2": "La ciudad es segura en las zonas turísticas y céntricas.",
        "rosario-tip-3": "Consideren un paseo en barco para ver la ciudad desde el río.",
        "rosario-tip-4": "En la Costanera hay muchas opciones de restaurantes con juegos para niños.",
        "budget-title": "Presupuesto orientativo",
        "budget-concept": "Concepto",
        "budget-price": "Precio estimado (USD)",
        "budget-accommodation": "Alojamiento (noche, familia)",
        "budget-food": "Comida (por día, familia)",
        "budget-transport": "Transporte público (por día)",
        "budget-activities": "Actividades y tours (por día)",
        "budget-attractions": "Entradas museos/atracciones",
        "ai-budget-title": "Sugerencias de Presupuesto",
        "generate-budget-suggestions": "Generar sugerencias de presupuesto para Rosario",
        "cultural-tips-title": "Tips culturales",
        "rosario-cultural-0": "El \"Che\" Guevara nació cerca de Rosario.",
        "rosario-cultural-1": "Rosario es cuna de grandes futbolistas (Messi, Di María) y artistas.",
        "rosario-cultural-2": "La siesta es común en las horas centrales del día, afectando horarios comerciales.",
        "rosario-cultural-3": "Los rosarinos son conocidos por su hospitalidad.",
        "map-title": "Mapa de Rosario",
        "see-bigger-map": "Ver mapa más grande"
      },
      he: {
        "back-to-itinerary": "⬅️ חזרה למפת המסלול",
        "city-name": "רוסאריו",
        "foto-caption-rosario": "אנדרטה לאומית לדגל, רוסאריו",
        "welcome-text-rosario": "רוסאריו, עיר הדגל, מציעה היסטוריה עשירה, פארקים נרחבים וחיי תרבות תוססים על גדות נהר הפאראנה. היא אידיאלית לבילוי משפחתי עם פעילויות בחיק הטבע וביקורים באתרים איקוניים.",
        "dates-duration-title": "תאריכים ומשך שהייה",
        "rosario-stay": "**שהייה**: 02/10 עד 05/10 (4 ימים)",
        "rosario-how-to-get-there": "**איך מגיעים**: טיסה מבואנוס איירס / אוטובוס למרחקים ארוכים",
        "must-see-places-title": "מקומות שאסור להחמיץ",
        "rosario-place-0": "**אנדרטה לאומית לדגל**: סמל אייקוני של ארגנטינה.",
        "rosario-place-1": "**פארק העצמאות**: עם גן ורדים, אגמים ומוזיאונים.",
        "rosario-place-2": "**טיילת נהר הפאראנה**: אידיאלי לטיולים, רכיבה על אופניים וליהנות מהנוף.",
        "rosario-place-3": "**אי ההמצאות (Isla de los Inventos)**: מרחב אינטראקטיבי ומהנה לילדים.",
        "rosario-place-4": "**מוזיאון למדעי הטבע \"ד"ר אנחל גאיארדו\"**: לאוהבי טבע ומדע.",
        "rosario-place-5": "**שדרת אורוניו (Boulevard Oroño)**: עם אחוזות היסטוריות ושדרות עצים.",
        "recommended-activities-title": "פעילויות מומלצות",
        "rosario-activity-0": "לבקר באנדרטה לדגל ולעלות למרפסת התצפית שלה.",
        "rosario-activity-1": "טיולי סירה בנהר הפאראנה ובאיים שלו.",
        "rosario-activity-2": "לשכור אופניים ולרכוב לאורך הטיילת והפארקים.",
        "rosario-activity-3": "פעילויות פנאי באי ההמצאות או בחוות הילדות.",
        "rosario-activity-4": "ליהנות מפיקניק בפארקים הגדולים של העיר.",
        "rosario-activity-5": "ביקורים במוזיאונים המותאמים לילדים.",
        "gastronomy-title": "גסטרונומיה מומלצת",
        "gastronomy-intro-rosario": "רוסאריו ידועה במטבח המגוון שלה, עם אפשרויות שנעות בין מסעדות בשרים מסורתיות ובשר על שיפוד, למנות דגים טריים מהנהר והיצע הולך וגדל של מטבח מודרני ובריא.",
        "restaurants-title": "מסעדות מומלצות",
        "table-restaurant": "מסעדה",
        "table-type": "סוג",
        "table-gluten-free": "ללא גלוטן",
        "table-sugar-free": "ללא סוכר",
        "rosario-rest-0-name": "דון פרו (Don Ferro)",
        "rosario-rest-0-type": "מסעדת בשרים עם נוף לנהר",
        "rosario-rest-1-name": "רוק אנד פלר'ס (Rock & Feller's)",
        "rosario-rest-1-type": "אמריקאי / משפחתי",
        "rosario-rest-2-name": "צ'ינצ'יבירה (Chinchibira)",
        "rosario-rest-2-type": "מטבח שף / פיוז'ן",
        "rosario-rest-3-name": "אל וייחו בלקון (El Viejo Balcón)",
        "rosario-rest-3-type": "דגי נהר",
        "coffees-title": "קונדיטוריות ובתי קפה",
        "table-confectionery": "קונדיטוריה",
        "rosario-cafe-0-name": "אל קאירו (El Cairo)",
        "rosario-cafe-0-type": "היסטורי / ספרותי",
        "rosario-cafe-1-name": "גופרה (Gofre)",
        "rosario-cafe-1-type": "וופלים ומאפים",
        "rosario-cafe-2-name": "סנדרלנד (Sunderland)",
        "rosario-cafe-2-type": "מסורתי / קלאסי",
        "ai-menu-title": "הצעות תפריט לסוכרתיים",
        "generate-menu-suggestions": "צור הצעות תפריט לרוסאריו",
        "accommodation-title": "לינה (דוגמאות)",
        "rosario-acc-0": "מלון רוס טאוור (Ros Tower Hotel)",
        "rosario-acc-1": "אספלנדור ביי וינדהאם סבוי רוסאריו (Esplendor by Wyndham Savoy Rosario)",
        "rosario-acc-2": "דירות במרכז או ליד הטיילת",
        "rosario-acc-3": "Airbnb בשכונות מגורים כמו פישרטון או פיצ'ינצ'ה",
        "ai-accommodation-title": "הצעות לינה למשפחות",
        "generate-accommodation-suggestions": "צור הצעות לינה לרוסאריו",
        "coordinates-title": "קואורדינטות משוערות",
        "rosario-coords": "32° 57' S 60° 38' O",
        "events-agenda-title": "לוח אירועים",
        "rosario-event-0": "**(מומלץ לבדוק לו"ז מקומי)**: לרוסאריו חיי תרבות פעילים עם פסטיבלים, ירידים ומופעים.",
        "rosario-event-1": "**(מומלץ לבדוק לו"ז מקומי)**: אירועי ספורט או מוזיקה בפארק העצמאות.",
        "download-agenda": "הורד לוח זמנים מלא בפורמט iCal (.zip)",
        "family-tips-title": "טיפים למשפחות",
        "rosario-tip-0": "נצלו את השטחים הירוקים הגדולים ואת הטיילת לפעילויות בחיק הטבע.",
        "rosario-tip-1": "התחבורה הציבורית יעילה (כרטיס MOVI).",
        "rosario-tip-2": "העיר בטוחה באזורי התיירות ובמרכז.",
        "rosario-tip-3": "שקלו שיט בסירה כדי לראות את העיר מהנהר.",
        "rosario-tip-4": "בטיילת ישנן אפשרויות רבות למסעדות עם משחקים לילדים.",
        "budget-title": "תקציב משוער",
        "budget-concept": "קונספט",
        "budget-price": "מחיר משוער (USD)",
        "budget-accommodation": "לינה (לילה, משפחה)",
        "budget-food": "אוכל (ליום, משפחה)",
        "budget-transport": "תחבורה ציבורית (ליום)",
        "budget-activities": "פעילויות וסיורים (ליום)",
        "budget-attractions": "כניסות למוזיאונים/אטרקציות",
        "ai-budget-title": "הצעות לתקציב",
        "generate-budget-suggestions": "צור הצעות לתקציב עבור רוסאריו",
        "cultural-tips-title": "טיפים תרבותיים",
        "rosario-cultural-0": "ה\"צ'ה\" גווארה נולד ליד רוסאריו.",
        "rosario-cultural-1": "רוסאריו היא מולדתם של כדורגלנים (מסי, די מריה) ואמנים גדולים.",
        "rosario-cultural-2": "הסיאסטה נפוצה בשעות הצהריים, ומשפיעה על שעות הפתיחה של עסקים.",
        "rosario-cultural-3": "תושבי רוסאריו ידועים באירוחם.",
        "map-title": "מפת רוסאריו",
        "see-bigger-map": "הצג מפה גדולה יותר"
      }
    };

    document.addEventListener('DOMContentLoaded', function() {
      initLanguageSelector(translations); // De i18n.js
      loadAndApplyLanguage(); // De i18n.js
    });

    // Función para cargar y aplicar el idioma guardado, sobrescribiendo si hay un parámetro de URL
    function loadAndApplyLanguage() {
        let lang = localStorage.getItem('idiomaPreferido') || 'es';
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('lang')) {
            lang = urlParams.get('lang');
        }
        applyLanguage(lang);
    }
    // Sobreescribir el `applyLanguage` de `i18n.js` para que también actualice el título y la foto-caption
    function applyLanguage(lang) {
        document.documentElement.lang = lang;
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (translations[lang] && translations[lang][key]) {
                // Si la clave tiene asteriscos (markdown para negrita), procesarlos
                let text = translations[lang][key];
                if (text.includes('**')) {
                    text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                    element.innerHTML = text;
                } else {
                    element.textContent = text;
                }
            }
        });

        // Actualizar el botón de idioma activo
        document.querySelectorAll('.language-btn').forEach(btn => {
            if (btn.dataset.lang === lang) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        });
        localStorage.setItem('idiomaPreferido', lang);
    }
  </script>
</body>
</html>
